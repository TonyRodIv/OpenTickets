{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h3>Selecione o Assento</h3>
    <div class="mapa-assentos">
        {% for linha in mapa %}
        <div class="linha-assentos">
            {% for assento in linha %}
            <button type="button" class="btn btn-sm 
                    {% if 'XX' in assento %}btn-danger{% else %}btn-success{% endif %}"
                    {% if 'XX' in assento %}disabled{% endif %}
                    onclick="selecionarAssento('{{ assento }}')">
                {{ assento }}
            </button>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    <form method="POST" id="form-assento">
        <input type="hidden" name="assento" id="input-assento">
        <button type="submit" class="btn btn-primary mt-3" disabled>
            Confirmar Assento
        </button>
    </form>
</div>

<script>
function selecionarAssento(codigo) {
    document.getElementById('input-assento').value = codigo;
    document.querySelector('button[type="submit"]').disabled = false;
}
</script>
{% endblock %}
